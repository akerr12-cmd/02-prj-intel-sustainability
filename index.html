<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Intel: Sustainability Through the Ages</title>

  <!-- Fonts (replace with your kit if needed) -->
  <link rel="stylesheet" href="https://use.typekit.net/umg6htj.css">

  <!-- Link to external CSS -->
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- HERO -->
  <header class="hero" role="banner">
    <div class="circuit-overlay" aria-hidden="true"></div>

    <div class="hero-content">
      <img src="img/intel-header-logo.svg" alt="Intel Logo" class="hero-logo" />
      <h1 class="hero-title">Sustainability Through the Ages</h1>
      <p class="hero-subtitle">
        Explore Intel's journey through time, discovering how our commitment to innovation has shaped a more sustainable
        future for technology and our planet.
      </p>
    </div>
  </header>

  <!-- TIMELINE -->
  <main class="timeline" role="main" aria-label="Timeline of Intel sustainability milestones">
    <!-- Card 1 -->
    <section class="cards-section">
      <div class="flip-card" tabindex="0">
        <div class="flip-inner">
          <div class="flip-front">
            <img src="img/1968.png" alt="Intel founding in 1968">
            <div class="title-frame">
              <h2>1968</h2>
              <h3>Intel Founded</h3>
            </div>
          </div>
          <div class="flip-back">
            <p>Robert Noyce and Gordon Moore rename the newly formed company NM Electronics to Intel Corporation, laying
              the foundation for decades of technological innovation.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Card 2 -->
    <section class="cards-section">
      <div class="flip-card" tabindex="0">
        <div class="flip-inner">
          <div class="flip-front">
            <img src="img/1971.png" alt="Intel 4004 microprocessor from 1971">
            <div class="title-frame accent">
              <h2>1971</h2>
              <h3>First Microprocessor</h3>
            </div>
          </div>
          <div class="flip-back">
            <p>Intel debuts the 4004, the world's first commercial microprocessor, igniting the microprocessor
              revolution and propelling the future of computing devices.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Card 3 -->
    <section class="cards-section">
      <div class="flip-card" tabindex="0">
        <div class="flip-inner">
          <div class="flip-front">
            <img src="img/1978.png" alt="Intel 8086 processor from 1978">
            <div class="title-frame">
              <h2>1978</h2>
              <h3>8086 Processor</h3>
            </div>
          </div>
          <div class="flip-back">
            <p>Launch of the 8086 processor, establishing the x86 architecture that drives countless PCs and servers in
              the modern era.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Add more cards as needed following the same structure -->
  </main>

  <!-- TIMELINE CONTROLS (under the timeline) -->
  <div class="timeline-controls" aria-label="Timeline navigation">
    <button class="timeline-btn left-btn" aria-label="Scroll left">‹</button>
    <button class="timeline-btn right-btn" aria-label="Scroll right">›</button>
  </div>

  <footer class="footer" role="contentinfo">
    <p>Scroll to view timeline • Hover or focus cards to learn more</p>
  </footer>

  <!-- Combined script: scroll reveal + arrow controls + keyboard navigation -->
  <script>
    (function () {
      /* Scroll reveal */
      const cards = document.querySelectorAll('.cards-section');
      if (cards && cards.length) {
        const observer = new IntersectionObserver((entries, obs) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.add('visible');
              obs.unobserve(entry.target);
            }
          });
        }, { threshold: 0.28 });
        cards.forEach(c => observer.observe(c));
      }

      /* Timeline controls */
      const timelineEl = document.querySelector('.timeline');
      if (!timelineEl) return;

      const leftBtn = document.querySelector('.left-btn');
      const rightBtn = document.querySelector('.right-btn');

      function computeStep() {
        const firstCard = timelineEl.querySelector('.cards-section');
        if (!firstCard) return 0;
        const cardWidth = Math.round(firstCard.getBoundingClientRect().width);
        const cs = getComputedStyle(timelineEl);
        let gap = 0;
        if (cs && cs.gap) gap = parseFloat(cs.gap) || 0;
        if (!gap) {
          const rootGap = getComputedStyle(document.documentElement).getPropertyValue('--gap');
          gap = parseFloat(rootGap) || 32;
        }
        return cardWidth + gap;
      }

      let STEP = computeStep() || 352;

      function scrollByStep(direction = 1) {
        timelineEl.scrollBy({ left: direction * STEP, behavior: 'smooth' });
      }

      function updateButtons() {
        if (!leftBtn && !rightBtn) return;
        const maxScroll = Math.max(0, timelineEl.scrollWidth - timelineEl.clientWidth);
        const pos = timelineEl.scrollLeft;
        if (leftBtn) {
          const disabled = pos <= 2;
          leftBtn.disabled = disabled;
          leftBtn.setAttribute('aria-disabled', disabled ? 'true' : 'false');
        }
        if (rightBtn) {
          const disabled = pos >= (maxScroll - 2);
          rightBtn.disabled = disabled;
          rightBtn.setAttribute('aria-disabled', disabled ? 'true' : 'false');
        }
      }

      function debounce(fn, wait = 120) {
        let t;
        return (...args) => {
          clearTimeout(t);
          t = setTimeout(() => fn.apply(this, args), wait);
        };
      }

      if (leftBtn) leftBtn.addEventListener('click', () => scrollByStep(-1));
      if (rightBtn) rightBtn.addEventListener('click', () => scrollByStep(1));

      window.addEventListener('resize', debounce(() => {
        STEP = computeStep() || STEP;
        updateButtons();
      }, 120));

      timelineEl.addEventListener('scroll', debounce(updateButtons, 40));
      updateButtons();

      window.addEventListener('keydown', (e) => {
        const active = document.activeElement;
        if (active && (active.tagName === 'INPUT' || active.tagName === 'TEXTAREA' || active.isContentEditable)) return;
        if (e.key === 'ArrowRight') { e.preventDefault(); scrollByStep(1); }
        else if (e.key === 'ArrowLeft') { e.preventDefault(); scrollByStep(-1); }
      });
    })();
  </script>
</body>
</html>
